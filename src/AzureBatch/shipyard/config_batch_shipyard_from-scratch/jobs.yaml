job_specifications:
- id: busybox_test_job_id #test-modeling-mpi-1
  auto_complete: true
#   shared_data_volumes:
#     - azureblob_vol
  tasks:
  - command: wc -l /etc/group
    docker_image: busybox
#   tasks:
#   - docker_image: busybox #fwi01acr.azurecr.io/devito_azure_tti:v1.0
#     environment_variables:
#       DEVITO_ARCH: gcc
#       OMP_NUM_THREADS: 30
#       DEVITO_MPI: 'basic'
#       DEVITO_OPENMP: 1
#       OMP_PROC_BIND: 'close'
#       OMP_PLACES: 'cores'
#       DEVITO_LOGGING: 'DEBUG'
#       BLOB_CONTAINER: 'ghiordazdvgtchsacnt'
#       SPACE_ORDER: 8
#       BATCHSIZE: 1
#     default_working_dir: container
#     multi_instance:
#       num_instances: pool_current_dedicated
#       mpi:
#         runtime: mpich
#         processes_per_node: 4
#         options:
#           - --bind-to socket
#     task_factory:
#       parametric_sweep:
#         product:
#         - start: 100
#           step: 1
#           stop: 102
#     command: python3 $AZ_BATCH_NODE_SHARED_DIR/ghiordazdvgtchsacnt/scripts/overthrust_3D_modeling.py
#       --recloc $AZ_BATCH_NODE_SHARED_DIR/ghiordazdvgtchsacnt/shots/
#       --modelloc $AZ_BATCH_NODE_SHARED_DIR/ghiordazdvgtchsacnt/models/
#       --id {}
#       --geomloc $AZ_BATCH_NODE_SHARED_DIR/ghiordazdvgtchsacnt/geometry/
#       --fs